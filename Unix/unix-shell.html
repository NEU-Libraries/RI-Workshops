<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title></title>
<meta name="author" content="(Hohenstein)"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="file:///Users/hohenstein/tomuments/templates/revealjs/css/reveal.css"/>

<link rel="stylesheet" href="file:///Users/hohenstein/tomuments/templates/revealjs/css/theme/nu-library.css" id="theme"/>


<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'file:///Users/hohenstein/tomuments/templates/revealjs/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
</head>
<body>
<div class="reveal">
<div class="slides">

<section>
<section id="slide-org40b8836">
<h2 id="org40b8836">The Unix Shell - Introducing the Shell</h2>
<p>
with Tom Hohenstein 
</p>

</section>
<section id="slide-org039d042">
<h3 id="org039d042">Logistics</h3>
<ul>
<li>Bathrooms</li>
<li>Internet</li>
<li>Terminals ready?</li>
<li>Other &#x2026; ?</li>

</ul>

</section>
<section id="slide-org4a38294">
<h3 id="org4a38294">Intentions</h3>
<ul>
<li>Introduce the shell</li>
<li>Learn to navigate and work with files and directories</li>
<li>Pipes and filters</li>
<li>Loops</li>
<li>Scripts (hopefully)</li>
<li>finding things (hopefully)</li>

</ul>

</section>
<section id="slide-orge62e565">
<h3 id="orge62e565">Assumptions</h3>
<ul>
<li>The terminal up and ready to go (with files downloaded)</li>
<li>Little, maybe no experience, with the shell</li>
<li>Willing to ask questions</li>
<li>unix-data folder is on your Desktop</li>

</ul>

</section>
<section id="slide-org32a7c1f">
<h3 id="org32a7c1f">Quick Note</h3>
<p>
If you already know how to use grep and find, this session might
only be a refresher. If you're willing, please help new learners. 
</p>


</section>
</section>
<section>
<section id="slide-orgb016b81">
<h2 id="orgb016b81">What is the shell?</h2>
<p>
A "shell" around the operating system that hides some its complexity
and makes it easier for us to interact with. 
</p>

<p>
We'll be using the Bourne Again SHell (BASH) written by Stephen
Bourne. The default shell on most unix systems. 
</p>

</section>
<section id="slide-orgd2a8ac1">
<h3 id="orgd2a8ac1">Command-line interface (CLI)</h3>
<p>
Read-Evaluate-Print Loop (REPL) 
</p>

<p>
The user provides the computer a command. The computer reads it,
executes it, and prints its output. 
</p>

</section>
<section id="slide-org4bdb428">
<h3 id="org4bdb428">Why bother</h3>
<p>
Automation! 
</p>

<p>
While commands can feel terse and complex at first, our ability to
chain them together to perform common, routine (yet complex) tasks
is surprising powerful. (and it creates reproducible workflows) 
</p>

</section>
<section id="slide-orgf776ca6">
<h3 id="orgf776ca6">Case study Nelle</h3>
<p>
Nelle, a marine biologist, has a bunch of data to analyze using two
programs - goostats and goodiff. If she does this by hand, she'll
have click and open files about 46,370 times. 
</p>

<p>
There must be a better way&#x2026; 
</p>

</section>
</section>
<section>
<section id="slide-org4520a50">
<h2 id="org4520a50">Navigating Files and Directories</h2>
<div class="outline-text-2" id="text-org4520a50">
</div>
</section>
<section id="slide-org95ae64c">
<h3 id="org95ae64c">Preparation Magic</h3>
<p>
This will help ensure our terminals look the same 
</p>

<div class="org-src-container">

<pre  class="src src-unix">PS1='$ ' 
</pre>
</div>
<p>
and 
</p>
<div class="org-src-container">

<pre  class="src src-unix">cd ~/Desktop/unix-data
</pre>
</div>

</section>
<section id="slide-org3204f02">
<h3 id="org3204f02">Our first command</h3>
<div class="org-src-container">

<pre  class="src src-unix">whoami 
</pre>
</div>

</section>
<section id="slide-org4de87a8">
<h3 id="org4de87a8">Our first failure</h3>
<div class="org-src-container">

<pre  class="src src-unix">tom
</pre>
</div>

</section>
<section id="slide-org89d251c">
<h3 id="org89d251c">Quick Note</h3>
<p>
Unix is great at giving negative feedback. Don't take it personally :
) 
</p>

</section>
<section id="slide-orga4e9195">
<h3 id="orga4e9195">Where are we</h3>
<p>
(print working directory) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">pwd 
</pre>
</div>

</section>
<section id="slide-orgc26f2eb">
<h3 id="orgc26f2eb">What is happening?</h3>
<p>
(quick answer) 
</p>

</section>
<section id="slide-org0bbb252">
<h3 id="org0bbb252">List</h3>
<p>
(list directory contents) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">ls 
</pre>
</div>

</section>
<section id="slide-org8811ee1">
<h3 id="org8811ee1">Getting Help</h3>
<p>
Mac and Unix - use "man" plus program (man is short for manual) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">man ls 
</pre>
</div>

<p>
Windows: Visit <a href="http://man.he.net/y">http://man.he.net/y</a>
</p>

</section>
<section id="slide-org0c6123d">
<h3 id="org0c6123d">Hit q to exit</h3>
</section>
<section id="slide-org0d86186">
<h3 id="org0d86186">Commands, Options, and Arguments</h3>
<p>
Tricky things to grasp but think of the general Unix command structure
as: 
</p>

<div class="org-src-container">

<pre  class="src src-talking-point">command -option -option /directory-argument 
</pre>
</div>

</section>
<section id="slide-org36c8831">
<h3 id="org36c8831">LS Example Option 1</h3>
<p>
(list in the long format)
</p>

<div class="org-src-container">

<pre  class="src src-unix">ls -l 
</pre>
</div>

</section>
<section id="slide-org65b3a70">
<h3 id="org65b3a70">LS Example Option 2</h3>
<p>
(list with directory slashes) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">ls -F 
</pre>
</div>

</section>
<section id="slide-org92c9653">
<h3 id="org92c9653">LS Example Option 3</h3>
<p>
(list all and directory slashes) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">ls  -a -F
</pre>
</div>

<p>
OR 
</p>

<div class="org-src-container">

<pre  class="src src-unix">ls -aF 
</pre>
</div>

</section>
<section id="slide-org59f80a8">
<h3 id="org59f80a8">Let's fail again</h3>
<div class="org-src-container">

<pre  class="src src-unix">ls -j
</pre>
</div>

</section>
<section id="slide-org0705a12">
<h3 id="org0705a12">Activity</h3>
<p>
(think, pair, share) 
</p>

<p>
What will the following do? 
</p>

<p>
#1
</p>
<div class="org-src-container">

<pre  class="src src-unix">ls -l -h 
</pre>
</div>

<p>
#2 
</p>
<div class="org-src-container">

<pre  class="src src-unix">ls -R -t
</pre>
</div>

</section>
<section id="slide-org9b93999">
<h3 id="org9b93999">LS Example 4</h3>
<p>
You can use ls to see the listing of any directory
</p>

<div class="org-src-container">

<pre  class="src src-unix">ls data-shell 
</pre>
</div>

<p>
and 
</p>

<div class="org-src-container">

<pre  class="src src-unix">ls data-shell/data/elements
</pre>
</div>

</section>
<section id="slide-org507d8a6">
<h3 id="org507d8a6">Reset</h3>
<p>
What directory are we all in? 
</p>

<div class="org-src-container">

<pre  class="src src-unix">pwd 
</pre>
</div>

<p>
Let's move to the same location 
</p>

<div class="org-src-container">

<pre  class="src src-unix">cd ~/Desktop/unix-data
</pre>
</div>

</section>
<section id="slide-org9631654">
<h3 id="org9631654">cd</h3>
<p>
(change directory) 
</p>

<div class="org-src-container">

<pre  class="src src-talking-point">cd [add your directory path here]
</pre>
</div>

</section>
<section id="slide-org1200ec6">
<h3 id="org1200ec6">Interesting point(s)</h3>
<p>
What do the following do? 
</p>
<div class="org-src-container">

<pre  class="src src-unix">cd . 
</pre>
</div>

<p>
and
</p>
<div class="org-src-container">

<pre  class="src src-unix">cd .. 
</pre>
</div>

</section>
<section id="slide-orgd266487">
<h3 id="orgd266487">Wait there's more!</h3>
<p>
Try 
</p>
<div class="org-src-container">

<pre  class="src src-unix">cd
</pre>
</div>

</section>
<section id="slide-org050212e">
<h3 id="org050212e">~, -, tab complete</h3>
<p>
"~" -&gt; current users home directory 
</p>

<p>
"-" -&gt; last directory (like last channel) 
</p>

<p>
hit tab to auto complete
</p>

<div class="org-src-container">

<pre  class="src src-unix">cd ~/Desktop/unix-data/data-shell 
</pre>
</div>

</section>
<section id="slide-orgc5f3f2c">
<h3 id="orgc5f3f2c">Relative and Absolute Paths</h3>
<p>
Go to absolute and relative path diagram at:
<a href="https://swcarpentry.github.io/shell-novice/02-filedir/">https://swcarpentry.github.io/shell-novice/02-filedir/</a>
</p>

</section>
<section id="slide-org3385708">
<h3 id="org3385708">mkdir</h3>
<p>
(make directory) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">mkdir thesis
</pre>
</div>

</section>
<section id="slide-orgfdec56a">
<h3 id="orgfdec56a">A note on naming things</h3>
<ul>
<li>Don't use whitespaces</li>
<li>Don't begin with "-"</li>
<li>Stick with letters, numbers, . (period), - (dash) and _ (underscore)</li>
<li>(Tom's) Avoid multiple "." (only use before file extension)</li>

</ul>

</section>
<section id="slide-org9b07b95">
<h3 id="org9b07b95">Start writing</h3>
<p>
Move into "thesis" 
</p>

<div class="org-src-container">

<pre  class="src src-unix">nano draft.txt 
</pre>
</div>

</section>
<section id="slide-orgeba4908">
<h3 id="orgeba4908">Nano</h3>
<ul>
<li>^x -&gt; Control-X or Ctrl-X (exit)</li>
<li>^o -&gt; Control-O or Ctrl-O (write-out)</li>

</ul>

</section>
<section id="slide-org1a2123a">
<h3 id="org1a2123a">rm</h3>
<p>
(remove) 
</p>

<p>
STOP! This is the real deal. No trash bins or what-have-you. Once it
is gone, it is gone. 
</p>

</section>
<section id="slide-orge416135">
<h3 id="orge416135">rm</h3>
<p>
(remove) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">rm  draft.txt 
</pre>
</div>

</section>
<section id="slide-org6b179f3">
<h3 id="org6b179f3">rm recursively</h3>
<p>
Hey - you probably don't want to do this. Just saying&#x2026; 
</p>

<div class="org-src-container">

<pre  class="src src-unix">rm -r draft.txt 
</pre>
</div>

<p>
or add -i for interactive 
</p>
<div class="org-src-container">

<pre  class="src src-unix">rm -r -i draft.txt 
</pre>
</div>

</section>
<section id="slide-org06cee05">
<h3 id="org06cee05">mv</h3>
<p>
(move) (or rename) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">mv draft.txt quotes.txt
</pre>
</div>

<p>
Be careful about naming! mv will overwrite a file if it exists. Use -i
for interactive to help avoid this. 
</p>

</section>
<section id="slide-orge2bc89c">
<h3 id="orge2bc89c">cp</h3>
<p>
(copy) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">cp quotes.txt draft.txt 
</pre>
</div>

</section>
<section id="slide-orgeeb2b32">
<h3 id="orgeeb2b32">Exercise</h3>
<p>
(think pair share) 
</p>

<p>
Renaming Files on 
<a href="https://swcarpentry.github.io/shell-novice/03-create/">https://swcarpentry.github.io/shell-novice/03-create/</a>
</p>

<p>
and moving and copying at
<a href="https://swcarpentry.github.io/shell-novice/03-create/">https://swcarpentry.github.io/shell-novice/03-create/</a>
</p>

</section>
</section>
<section>
<section id="slide-org4f4e5ce">
<h2 id="org4f4e5ce">Pipes and Filters</h2>
<div class="outline-text-2" id="text-org4f4e5ce">
</div>
</section>
<section id="slide-orgff0d6e8">
<h3 id="orgff0d6e8">Let's move</h3>
<p>
to the molecules directory
</p>

<div class="org-src-container">

<pre  class="src src-unix">cd ~/Desktop/unix-data/data-shell/molecules
</pre>
</div>


</section>
<section id="slide-org7803cff">
<h3 id="org7803cff">wc</h3>
<p>
(word count) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">wc *.pdb 
</pre>
</div>

</section>
<section id="slide-org871b378">
<h3 id="org871b378">Wildcards</h3>
<ul>
<li>* -&gt; zero or more characters</li>
<li>? -&gt; exactly one character</li>

</ul>

</section>
<section id="slide-org980b4ba">
<h3 id="org980b4ba">more wc</h3>
<ul>
<li>-l -&gt; lines</li>
<li>-c -&gt; characters (windows)</li>
<li>-m -&gt; characters (mac)</li>
<li>-w -&gt; words</li>

</ul>

<div class="org-src-container">

<pre  class="src src-unix">wc -l *.pdb 
</pre>
</div>

</section>
<section id="slide-org46d33a3">
<h3 id="org46d33a3">&gt;</h3>
<p>
(redirect) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">wc -l *.pdb &gt; lengths.txt 
</pre>
</div>

<p>
(don't redirect back to the same file, you'll have issues) 
</p>

</section>
<section id="slide-org83793f3">
<h3 id="org83793f3">&gt;&gt;</h3>
<p>
What does &gt;&gt; do? 
</p>

<div class="org-src-container">

<pre  class="src src-unix">echo hi &gt;&gt; test.txt 
</pre>
</div>

</section>
<section id="slide-org593419c">
<h3 id="org593419c">cat</h3>
<p>
(concatenate and print) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">cat lengths.txt 
</pre>
</div>

<p>
(there is also "less") 
</p>

</section>
<section id="slide-orgb275be9">
<h3 id="orgb275be9">sort</h3>
<p>
(sort) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">sort -n lengths.txt 
</pre>
</div>

<p>
and 
</p>
<div class="org-src-container">

<pre  class="src src-unix">sort -n lengths.txt &gt; sorted-lengths.txt
</pre>
</div>

</section>
<section id="slide-orge988c28">
<h3 id="orge988c28">head</h3>
<p>
(head of the file) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">head -n 1 sorted-lengths.txt
</pre>
</div>

</section>
<section id="slide-orgdf6ec84">
<h3 id="orgdf6ec84">|</h3>
<p>
(pipes) 
</p>

<p>
You can connect commands with pipes 
</p>

<div class="org-src-container">

<pre  class="src src-unix">wc -l *.pdb | sort -n
</pre>
</div>

<p>
and &#x2026; 
</p>

<div class="org-src-container">

<pre  class="src src-unix">wc -l *.pdb | sort -n | head -n 1
</pre>
</div>

</section>
<section id="slide-orgb314f0d">
<h3 id="orgb314f0d">Standard in and out</h3>
<p>
use diagram at 
<a href="https://swcarpentry.github.io/shell-novice/04-pipefilter/">https://swcarpentry.github.io/shell-novice/04-pipefilter/</a>
</p>

</section>
<section id="slide-org4bfff6a">
<h3 id="org4bfff6a">Nelle's Pipeline</h3>
<p>
(let's check-in on Nelle) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">cd ../north-pacific-gyre/2012-07-03
wc -l *.txt
</pre>
</div>

</section>
<section id="slide-org0e447f1">
<h3 id="org0e447f1">Data check</h3>
<div class="org-src-container">

<pre  class="src src-unix">wc -l *.txt | sort -n | head -n 5
</pre>
</div>

<p>
(something is up) 
</p>

</section>
<section id="slide-org591ac68">
<h3 id="org591ac68">Let's check the tail</h3>
<div class="org-src-container">

<pre  class="src src-unix">wc -l *.txt | sort -n | tail -n 5
</pre>
</div>

<p>
(what's that Z?)
</p>

</section>
<section id="slide-org46f8994">
<h3 id="org46f8994">more digging</h3>
<div class="org-src-container">

<pre  class="src src-unix">ls *Z.txt
</pre>
</div>

</section>
<section id="slide-org67175c2">
<h3 id="org67175c2">a little regular expression</h3>
<p>
To target the AB files 
</p>

<div class="org-src-container">

<pre  class="src src-unix">ls *[AB].txt
</pre>
</div>


</section>
</section>
<section>
<section id="slide-org6cef5a0">
<h2 id="org6cef5a0">Loops</h2>
<p>
Looping our way to productivity 
</p>

</section>
<section id="slide-org8529ba1">
<h3 id="org8529ba1">let's get to the same place</h3>
<div class="org-src-container">

<pre  class="src src-unix">cd ~/Desktop/unix-data/data-shell/creatures/
</pre>
</div>

</section>
<section id="slide-orgdc18c6b">
<h3 id="orgdc18c6b">Let's make a backup</h3>
<div class="org-src-container">

<pre  class="src src-talking-point">cp *.dat original-*.dat
</pre>
</div>

<p>
Oh no! That didn't work because it expands to 
</p>

<div class="org-src-container">

<pre  class="src src-talking-point">cp basilisk.dat unicorn.dat original-*.dat
</pre>
</div>

</section>
<section id="slide-org91db2e1">
<h3 id="org91db2e1">But we can loop</h3>
<p>
(talk through the looping process) 
</p>

<div class="org-src-container">

<pre  class="src src-talking-point">for [variable] in [list]
&gt; do
&gt;    head -n 3 $[variable]
&gt; done

</pre>
</div>

</section>
<section id="slide-org819f3ae">
<h3 id="org819f3ae">Example 1</h3>
<div class="org-src-container">

<pre  class="src src-unix">for filename in basilisk.dat unicorn.dat
&gt; do
&gt;    head -n 3 $filename
&gt; done
</pre>
</div>

</section>
<section id="slide-org6ed2a32">
<h3 id="org6ed2a32">&gt; and &gt;</h3>
<p>
Same symbols but they have different meanings in different contexts. 
</p>

</section>
<section id="slide-org362ef0e">
<h3 id="org362ef0e">Example 2</h3>
<div class="org-src-container">

<pre  class="src src-unix">for filename in *.dat 
&gt; do
&gt;    echo $filename 
&gt;    head -n 3 $filename
&gt; done
</pre>
</div>

</section>
<section id="slide-orgfaf6f87">
<h3 id="orgfaf6f87">Hit the up key Tom</h3>
<p>
Show different syntax 
</p>

</section>
<section id="slide-org4dae69b">
<h3 id="org4dae69b">A note about white spaces in file names</h3>

</section>
<section id="slide-org8d250ab">
<h3 id="org8d250ab">Solving our copying problem</h3>
<div class="org-src-container">

<pre  class="src src-unix">for filename in *.dat 
&gt; do
&gt;    cp $filename original-$filename 
&gt; done
</pre>
</div>

</section>
<section id="slide-orgd052777">
<h3 id="orgd052777">history</h3>
<p>
(see your last commands) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">history | tail -n 5 
</pre>
</div>

<p>
! command number to rerun 
</p>

</section>
<section id="slide-org6175684">
<h3 id="org6175684">Other fun stuff</h3>
<ul>
<li>ctrl-a and ctrl-e - move to front and end of terminal line</li>
<li>ctrl-r - reverse search commands</li>
<li>!! - last command (same as up arrow)</li>
<li>!$ - last work of last command</li>

</ul>

</section>
<section id="slide-orgc75a699">
<h3 id="orgc75a699">Nelle's Pipeline</h3>
<p>
move to north-pacific-gyre/2012-07-03
</p>

<div class="org-src-container">

<pre  class="src src-unix">cd ../north-pacific-gyre/2012-07-03
</pre>
</div>

</section>
<section id="slide-org81a8525">
<h3 id="org81a8525">Step 1</h3>
<div class="org-src-container">

<pre  class="src src-unix">for datafile in NENE*[AB].txt
&gt; do
&gt;     echo $datafile
&gt; done
</pre>
</div>

</section>
<section id="slide-orgd60a405">
<h3 id="orgd60a405">Step 2</h3>
<div class="org-src-container">

<pre  class="src src-unix">for datafile in NENE*[AB].txt
&gt; do
&gt;     echo $datafile stats-$datafile
&gt; done
</pre>
</div>

</section>
<section id="slide-org0500a58">
<h3 id="org0500a58">Step 3</h3>
<div class="org-src-container">

<pre  class="src src-unix">for datafile in NENE*[AB].txt
&gt; do
&gt;     echo $datafile 
&gt;     bash goostats $datafile stats-$datafile
&gt; done
</pre>
</div>

</section>
<section id="slide-org0bd5b3e">
<h3 id="org0bd5b3e">Check on learning</h3>
<p>
Doing a dry run at: 
<a href="https://swcarpentry.github.io/shell-novice/05-loop/">https://swcarpentry.github.io/shell-novice/05-loop/</a>
</p>


</section>
</section>
<section>
<section id="slide-org2845a3b">
<h2 id="org2845a3b">Scripts</h2>
<p>
Making the computer work for us. 
</p>

</section>
<section id="slide-orgade8c91">
<h3 id="orgade8c91">Move to the molecules folder</h3>
<div class="org-src-container">

<pre  class="src src-unix">cd ../../molecules 
</pre>
</div>


</section>
<section id="slide-orgfe772c6">
<h3 id="orgfe772c6">create middle.sh</h3>
<div class="org-src-container">

<pre  class="src src-unix">nano middle.sh 
</pre>
</div>

<p>
add "head -n 15 octane.pdb | tail -n 5" 
</p>

<p>
to run it 
</p>
<div class="org-src-container">

<pre  class="src src-unix">bash middle.sh 
</pre>
</div>

</section>
<section id="slide-org39b0bf5">
<h3 id="org39b0bf5">let's add a variable</h3>
<div class="org-src-container">

<pre  class="src src-unix">head -n 15 "$1" | tail -n 5
</pre>
</div>

<p>
to run it 
</p>
<div class="org-src-container">

<pre  class="src src-unix">bash middle.sh octane.pdb 
</pre>
</div>

</section>
<section id="slide-orgff1af5b">
<h3 id="orgff1af5b">more variables</h3>
<div class="org-src-container">

<pre  class="src src-unix">head -n "$2" "$1" | tail -n "$3" 
</pre>
</div>

<p>
to run it 
</p>
<div class="org-src-container">

<pre  class="src src-unix">bash middle.sh octane.pdb 15 5
</pre>
</div>

</section>
<section id="slide-org1547603">
<h3 id="org1547603">comments for documentation</h3>
<div class="org-src-container">

<pre  class="src src-unix"># Select lines from the middle of a file.
# Usage: bash middle.sh filename end_line num_lines 
</pre>
</div>

</section>
<section id="slide-orge3e55bf">
<h3 id="orge3e55bf">more than one file</h3>
<p>
(a special variable "$@") 
</p>

<p>
create a new file called sorted.sh
</p>

<div class="org-src-container">

<pre  class="src src-unix"># Sort filenames by their length.
# Usage: bash sorted.sh one_or_more_filenames
wc -l "$@" | sort -n
</pre>
</div>

</section>
<section id="slide-orge8e81c6">
<h3 id="orge8e81c6">give it a try</h3>
<div class="org-src-container">

<pre  class="src src-unix">bash sorted.sh *.pdb ../creatures/*.dat
</pre>
</div>

</section>
<section id="slide-orgc302066">
<h3 id="orgc302066">let's fail again</h3>
<div class="org-src-container">

<pre  class="src src-unix">bash sorted.sh
</pre>
</div>

</section>
<section id="slide-org4bae703">
<h3 id="org4bae703">saving experiments</h3>
<div class="org-src-container">

<pre  class="src src-unix">history | tail -n 5 &gt; redo-figure-3.sh
</pre>
</div>

</section>
<section id="slide-org068011f">
<h3 id="org068011f">Back to Nelle</h3>
<p>
(and the north-pacific-gyre/2017-07-03/) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">cd ../north-pacifc-gyre/2017-07-03
</pre>
</div>

<p>
Let's create a script do-stats.sh
</p>

</section>
<section id="slide-orgde52393">
<h3 id="orgde52393">Our script</h3>
<div class="org-src-container">

<pre  class="src src-unix"># Calculate stats for data files.
for datafile in "$@"
do
    echo $datafile
    bash goostats $datafile stats-$datafile
done
</pre>
</div>

</section>
<section id="slide-orgadeaebd">
<h3 id="orgadeaebd">run it!</h3>
<p>
(remember ls NENE*[AB].txt) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">bash do-stats.sh NENE*[AB].txt 
</pre>
</div>

</section>
<section id="slide-org68c1497">
<h3 id="org68c1497">more fun</h3>
<p>
(output only the number of file processed) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">bash do-stats.sh NENE*[AB].txt | wc -l 
</pre>
</div>

</section>
<section id="slide-org59387be">
<h3 id="org59387be">Exercise</h3>
<p>
(think pair share) 
</p>

<p>
Script reading comprehension at:
<a href="https://swcarpentry.github.io/shell-novice/06-script/">https://swcarpentry.github.io/shell-novice/06-script/</a>
</p>


</section>
</section>
<section>
<section id="slide-org879e0ad">
<h2 id="org879e0ad">Finding Things</h2>
<p>
(the fun stuff)
</p>

</section>
<section id="slide-org2232bcf">
<h3 id="org2232bcf">move to data-shell/writing</h3>
<div class="org-src-container">

<pre  class="src src-unix">cd ../../writing 
</pre>
</div>


</section>
<section id="slide-orga20be89">
<h3 id="orga20be89">grep</h3>
<p>
(global regular expression print) 
</p>

<p>
let's look at a file 
</p>

<div class="org-src-container">

<pre  class="src src-unix">cat haiku.txt 
</pre>
</div>

</section>
<section id="slide-orgce1ccb7">
<h3 id="orgce1ccb7">example 1 and 2</h3>
<p>
#1
</p>
<div class="org-src-container">

<pre  class="src src-unix">grep not haiku.txt 
</pre>
</div>

<p>
#2 
</p>
<div class="org-src-container">

<pre  class="src src-unix">grep The haiku.txt 
</pre>
</div>

</section>
<section id="slide-org9d6af5d">
<h3 id="org9d6af5d">grep -w</h3>
<p>
(grep word)
</p>

<div class="org-src-container">

<pre  class="src src-unix">grep -w The haiku.txt 
</pre>
</div>

</section>
<section id="slide-org9fbba26">
<h3 id="org9fbba26">grep -n</h3>
<p>
(grep line numbers) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">grep -n "it" haiku.txt 
</pre>
</div>

</section>
<section id="slide-orge60bee7">
<h3 id="orge60bee7">grep -i</h3>
<p>
(grep case-insensitive) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">grep -i -w -n "it" haiku.txt 
</pre>
</div>

</section>
<section id="slide-org3f4b1d8">
<h3 id="org3f4b1d8">grep -v</h3>
<p>
(grep invert aka lines that do not contain) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">grep -v -w -n "it" haiku.txt 
</pre>
</div>

</section>
<section id="slide-org556bd0b">
<h3 id="org556bd0b">-E regular expression power</h3>
<div class="org-src-container">

<pre  class="src src-unix">grep -E '^.o' haiku.txt
</pre>
</div>
<p>
(second character of the line is an 'o')
</p>

<p>
^ -&gt; start of the line 
</p>

<p>
. -&gt; one character 
</p>

<p>
' quotes -&gt; prevent the shell from expanding 
</p>

</section>
<section id="slide-orge7e734f">
<h3 id="orge7e734f">find</h3>
<p>
(find files) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">find . 
</pre>
</div>

</section>
<section id="slide-org2ab0a11">
<h3 id="org2ab0a11">find -type</h3>
<div class="org-src-container">

<pre  class="src src-unix">find . -type d 
</pre>
</div>
<p>
(find things that are a directory) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">find . -type f
</pre>
</div>
<p>
(find things that are a file) 
</p>

</section>
<section id="slide-org056f79b">
<h3 id="org056f79b">find -name</h3>
<div class="org-src-container">

<pre  class="src src-unix">find . -name *.txt
</pre>
</div>
<p>
(find things named *.txt) 
</p>

<p>
Expanded too early 
</p>

</section>
<section id="slide-org72c344a">
<h3 id="org72c344a">find -name (proper)</h3>
<div class="org-src-container">

<pre  class="src src-unix">find . -name '*.txt'
</pre>
</div>

</section>
<section id="slide-org37dd97a">
<h3 id="org37dd97a">$()</h3>
<p>
(the shell executes inside the $() first) 
</p>

<div class="org-src-container">

<pre  class="src src-unix">wc -l $(find . -name '*.txt')
</pre>
</div>

</section>
<section id="slide-orgf3a4678">
<h3 id="orgf3a4678">find + grep</h3>
<div class="org-src-container">

<pre  class="src src-unix">grep "FE" $(find .. -name '*.pdb')
</pre>
</div>

</section>
<section id="slide-org09717c1">
<h3 id="org09717c1">Thank you!</h3>
<p>
That's it 
</p>
</section>
</section>
</div>
</div>
<script src="file:///Users/hohenstein/tomuments/templates/revealjs/lib/js/head.min.js"></script>
<script src="file:///Users/hohenstein/tomuments/templates/revealjs/js/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: false,
center: true,
slideNumber: 'c',
rollingLinks: false,
keyboard: true,
overview: true,

theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none
transitionSpeed: 'default',
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
 { src: 'file:///Users/hohenstein/tomuments/templates/revealjs/lib/js/classList.js', condition: function() { return !document.body.classList; } },
 { src: 'file:///Users/hohenstein/tomuments/templates/revealjs/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: 'file:///Users/hohenstein/tomuments/templates/revealjs/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: 'file:///Users/hohenstein/tomuments/templates/revealjs/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
 { src: 'file:///Users/hohenstein/tomuments/templates/revealjs/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }]
});
</script>
</body>
</html>
